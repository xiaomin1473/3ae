<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>购物车</title>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/style.css">
    <script>(function (doc, win) {var docEl = doc.documentElement;var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';var recalc = function () {var clientWidth;var clientHeight = docEl.clientHeight;var clientWidth =docEl.clientWidth>750?750:docEl.clientWidth<=320?320:docEl.clientWidth;if (!clientWidth) return;docEl.style.fontSize = (clientWidth / 750 * 100).toFixed(2) +"px";};recalc();if (!doc.addEventListener) return;win.addEventListener(resizeEvt, recalc, false);})(document, window);</script>
</head>
<body>


<!--header-->
<header class="por">
    <a href="javascript:" class="back"></a>
    <span>购物车</span>
</header>


<!--京东直营-->
<div class="jd-t por">
    <span>京东直营</span>
    <div class="radio">
        <label>
            <input type="radio" name="optionsRadios" id="optionsRadios2" value="option1">
        </label>
    </div>
</div>

<div class="shop-line"></div>


<div class="main0">
    <div class="line-wrapper">
        <div class="line-scroll-wrapper">
            <div class="line-normal-wrapper">
                <div class="line-normal-left-wrapper">
                    <div class="radio">
                        <label>
                            <input type="radio" name="optionsRadios" id="optionsRadios3" value="option1">
                        </label>
                    </div>
                    <div class="line-normal-avatar-wrapper">
                        <img src="images/shop-1.png" />
                    </div>
                    <div class="line-normal-info-wrapper">
                        <div class="line-normal-user-name">智利帝王蟹熟冻3.2斤/只+礼盒 <br/>装螃蟹 海鲜水产</div>
                        <img src="images/icon1.png" alt="" class="cu"/>

                        <div class="bottom">
                            <span class="pull-left">¥ 263</span>
                            <div class="num pull-right">
                                <input type="button" name="jian"/>
                                <input type="text" value="1" disabled/>
                                <input type="button" name="jia"/>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="line-btn-delete"><button>移除</button></div>
        </div>
    </div>
    <div class="line-wrapper">
        <div class="line-scroll-wrapper">
            <div class="line-normal-wrapper">
                <div class="line-normal-left-wrapper">
                    <div class="radio">
                        <label>
                            <input type="radio" name="optionsRadios" id="optionsRadios3" value="option1">
                        </label>
                    </div>
                    <div class="line-normal-avatar-wrapper">
                        <img src="images/shop-4.png" />
                    </div>
                    <div class="line-normal-info-wrapper">
                        <div class="line-normal-user-name">智利帝王蟹熟冻3.2斤/只+礼盒 <br/>装螃蟹 海鲜水产</div>
                        <img src="images/icon1.png" alt="" class="cu"/>

                        <div class="bottom">
                            <span class="pull-left">¥ 263</span>
                            <div class="num pull-right">
                                <input type="button" name="jian"/>
                                <input type="text" value="1" disabled/>
                                <input type="button" name="jia"/>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="line-btn-delete"><button>移除</button></div>
        </div>
    </div>
    <div class="line-wrapper">
        <div class="line-scroll-wrapper">
            <div class="line-normal-wrapper">
                <div class="line-normal-left-wrapper">
                    <div class="radio">
                        <label>
                            <input type="radio" name="optionsRadios" id="optionsRadios3" value="option1">
                        </label>
                    </div>
                    <div class="line-normal-avatar-wrapper">
                        <img src="images/shop-1.png" />
                    </div>
                    <div class="line-normal-info-wrapper">
                        <div class="line-normal-user-name">智利帝王蟹熟冻3.2斤/只+礼盒 <br/>装螃蟹 海鲜水产</div>
                        <img src="images/icon1.png" alt="" class="cu"/>

                        <div class="bottom">
                            <span class="pull-left">¥ 263</span>
                            <div class="num pull-right">
                                <input type="button" name="jian"/>
                                <input type="text" value="1" disabled/>
                                <input type="button" name="jia"/>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="line-btn-delete"><button>移除</button></div>
        </div>
    </div>
</div>



<div class="shop-line"></div>
<div class="shop-line"></div>


<!--为你推荐-->
<section class="tuijian">
    <div class="t">
        <span class="por"><em>为你推荐</em></span>
    </div>

    <ul class="list clearfix center-block">
        <li>
            <a href="" class="thumbnail">
                <img src="images/shop-2.png" alt="" class="img-responsive"/>
                <div class="caption">
                    <p><img src="images/hot.png" alt="" class="hot"/>运动鞋女2017春季新款百搭内增高休闲鞋跑步</p>

                    <div class="bottom">
                        <span class="icon pull-right"></span>
                        <span class="yuan">￥</span><span>178</span><img src="images/ziying.png" alt="" class="ziying"/><img
                            src="images/jd.png" alt="" class="jd"/>
                    </div>
                </div>
            </a>
        </li>

        <li>
            <a href="" class="thumbnail">
                <img src="images/shop-2.png" alt="" class="img-responsive"/>
                <div class="caption">
                    <p><img src="images/hot.png" alt="" class="hot"/>运动鞋女2017春季新款百搭内增高休闲鞋跑步</p>

                    <div class="bottom">
                        <span class="icon pull-right"></span>
                        <span class="yuan">￥</span><span>178</span><img src="images/ziying.png" alt="" class="ziying"/><img
                            src="images/jd.png" alt="" class="jd"/>
                    </div>
                </div>
            </a>
        </li>

        <li>
            <a href="" class="thumbnail">
                <img src="images/shop-2.png" alt="" class="img-responsive"/>
                <div class="caption">
                    <p><img src="images/hot.png" alt="" class="hot"/>运动鞋女2017春季新款百搭内增高休闲鞋跑步</p>

                    <div class="bottom">
                        <span class="icon pull-right"></span>
                        <span class="yuan">￥</span><span>178</span><img src="images/ziying.png" alt="" class="ziying"/><img
                            src="images/jd.png" alt="" class="jd"/>
                    </div>
                </div>
            </a>
        </li>

        <li>
            <a href="" class="thumbnail">
                <img src="images/shop-2.png" alt="" class="img-responsive"/>
                <div class="caption">
                    <p><img src="images/hot.png" alt="" class="hot"/>运动鞋女2017春季新款百搭内增高休闲鞋跑步</p>

                    <div class="bottom">
                        <span class="icon pull-right"></span>
                        <span class="yuan">￥</span><span>178</span><img src="images/ziying.png" alt="" class="ziying"/><img
                            src="images/jd.png" alt="" class="jd"/>
                    </div>
                </div>
            </a>
        </li>

        <li>
            <a href="" class="thumbnail">
                <img src="images/shop-2.png" alt="" class="img-responsive"/>
                <div class="caption">
                    <p><img src="images/hot.png" alt="" class="hot"/>运动鞋女2017春季新款百搭内增高休闲鞋跑步</p>

                    <div class="bottom">
                        <span class="icon pull-right"></span>
                        <span class="yuan">￥</span><span>178</span><img src="images/ziying.png" alt="" class="ziying"/><img
                            src="images/jd.png" alt="" class="jd"/>
                    </div>
                </div>
            </a>
        </li>

        <li>
            <a href="" class="thumbnail">
                <img src="images/shop-2.png" alt="" class="img-responsive"/>
                <div class="caption">
                    <p><img src="images/hot.png" alt="" class="hot"/>运动鞋女2017春季新款百搭内增高休闲鞋跑步</p>

                    <div class="bottom">
                        <span class="icon pull-right"></span>
                        <span class="yuan">￥</span><span>178</span><img src="images/ziying.png" alt="" class="ziying"/><img
                            src="images/jd.png" alt="" class="jd"/>
                    </div>
                </div>
            </a>
        </li>
    </ul>
</section>

<section class="shop-bottom">
    <div class="radio">
        <label>
            <input type="radio" name="optionsRadios" id="all" value="option1">全选
        </label>
    </div>
    <a href="" class="del pull-right">删除</a>
</section>


<!--footer-->
<section class="footer-menu">
    <a href="../../index/index/index.html">首页</a><a href="../../list/index/index.html">分类</a><a href="../../shopcart/index/index.html" class="on">购物车 <em>3</em></a><a href="../../user/index/index.html">我的</a>
</section>


<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
    $(document).ready(function(e) {
        // 设定每一行的宽度=屏幕宽度+按钮宽度
        $(".line-scroll-wrapper").width($(".line-wrapper").width() + $(".line-btn-delete").width());
        // 设定常规信息区域宽度=屏幕宽度
        $(".line-normal-wrapper").width($(".line-wrapper").width());
        // 设定文字部分宽度（为了实现文字过长时在末尾显示...）
        $(".line-normal-msg").width($(".line-normal-wrapper").width() - 280);

        // 获取所有行，对每一行设置监听
        var lines = $(".line-normal-wrapper");
        var len = lines.length;
        var lastX, lastXForMobile;

        // 用于记录被按下的对象
        var pressedObj;  // 当前左滑的对象
        var lastLeftObj; // 上一个左滑的对象

        // 用于记录按下的点
        var start;

        // 网页在移动端运行时的监听
        for (var i = 0; i < len; ++i) {
            lines[i].addEventListener('touchstart', function(e){
                lastXForMobile = e.changedTouches[0].pageX;
                pressedObj = this; // 记录被按下的对象

                // 记录开始按下时的点
                var touches = event.touches[0];
                start = {
                    x: touches.pageX, // 横坐标
                    y: touches.pageY  // 纵坐标
                };
            });

            lines[i].addEventListener('touchmove',function(e){
                // 计算划动过程中x和y的变化量
                var touches = event.touches[0];
                delta = {
                    x: touches.pageX - start.x,
                    y: touches.pageY - start.y
                };

                // 横向位移大于纵向位移，阻止纵向滚动
                if (Math.abs(delta.x) > Math.abs(delta.y)) {
                    event.preventDefault();
                }
            });

            lines[i].addEventListener('touchend', function(e){
                if (lastLeftObj && pressedObj != lastLeftObj) { // 点击除当前左滑对象之外的任意其他位置
                    $(lastLeftObj).animate({marginLeft:"0"}, 500); // 右滑
                    lastLeftObj = null; // 清空上一个左滑的对象
                }
                var diffX = e.changedTouches[0].pageX - lastXForMobile;
                if (diffX < -150) {
                    $(pressedObj).animate({marginLeft:"-1.3rem"}, 500); // 左滑
                    lastLeftObj && lastLeftObj != pressedObj &&
                    $(lastLeftObj).animate({marginLeft:"0"}, 500); // 已经左滑状态的按钮右滑
                    lastLeftObj = pressedObj; // 记录上一个左滑的对象
                } else if (diffX > 150) {
                    if (pressedObj == lastLeftObj) {
                        $(pressedObj).animate({marginLeft:"0"}, 500); // 右滑
                        lastLeftObj = null; // 清空上一个左滑的对象
                    }
                }
            });
        }

        // 网页在PC浏览器中运行时的监听
        for (var i = 0; i < len; ++i) {
            $(lines[i]).bind('mousedown', function(e){
                lastX = e.clientX;
                pressedObj = this; // 记录被按下的对象
            });

            $(lines[i]).bind('mouseup', function(e){
                if (lastLeftObj && pressedObj != lastLeftObj) { // 点击除当前左滑对象之外的任意其他位置
                    $(lastLeftObj).animate({marginLeft:"0"}, 500); // 右滑
                    lastLeftObj = null; // 清空上一个左滑的对象
                }
                var diffX = e.clientX - lastX;
                if (diffX < -150) {
                    $(pressedObj).animate({marginLeft:"-1.3rem"}, 500); // 左滑
                    lastLeftObj && lastLeftObj != pressedObj &&
                    $(lastLeftObj).animate({marginLeft:"0"}, 500); // 已经左滑状态的按钮右滑
                    lastLeftObj = pressedObj; // 记录上一个左滑的对象
                } else if (diffX > 150) {
                    if (pressedObj == lastLeftObj) {
                        $(pressedObj).animate({marginLeft:"0"}, 500); // 右滑
                        lastLeftObj = null; // 清空上一个左滑的对象
                    }
                }
            });
        }
    });
</script>

<script>
    $(function () {
        $('#all').click(function () {
            $(this).toggleClass('checked');
            if($(this).hasClass('checked')){
                $('.main0 :radio').addClass('checked');
                $('.jd-t :radio').addClass('checked');
            }
            else{
                $('.main0 :radio').removeClass('checked');
                $('.jd-t :radio').removeClass('checked');
            }
        })

        $('.main0 :radio').click(function () {
            $(this).toggleClass('checked');
            allchk();
        })

        function allchk(){
            var chknum = $(".main0 :radio").size();//选项总个数
            var chk = 0;
            $(".main0 :radio").each(function () {
                if($(this).hasClass("checked")==true){
                    chk++;
                }
            });
            if(chk>0){
                $('.jd-t :radio').addClass('checked');
            }
            else{
                $('.jd-t :radio').removeClass('checked');
            }
            if(chknum==chk){//全选
                $("#all").addClass('checked');
            }else{//不全选
                $("#all").removeClass('checked');
            }
        }

        $("input[name='jian']").click(function () {
            var n=$(this).next('input').val();
            if(n>0){
                n--;
                $(this).next('input').val(n);
            }
            else{
                $(this).next('input').val('0');
            }
        })

        $("input[name='jia']").click(function () {
            var n=$(this).prev('input').val();
            n++;
            $(this).prev('input').val(n);

        })
    })
</script>

</body>
</html>